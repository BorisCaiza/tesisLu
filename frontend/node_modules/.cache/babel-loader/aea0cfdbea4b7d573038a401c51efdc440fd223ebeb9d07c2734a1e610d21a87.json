{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Boris\\\\Desktop\\\\Final WorkOut\\\\tesislu\\\\frontend\\\\src\\\\Pages\\\\BackOfiice\\\\Admin\\\\Perfiles.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport Sidebar from '../../Components/Sidebar';\nimport Swal from 'sweetalert2';\nimport Modal from 'react-bootstrap/Modal';\nimport validator from 'validator';\nimport api from '../../../api/api';\nimport '../HomeBackOffice.css';\nimport { AuthContext } from '../../../Context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Perfil() {\n  _s();\n  const [showModal, setShowModal] = useState(false);\n  const [nombrePerfil, setNombrePerfil] = useState('');\n  const [permisos, setPermisos] = useState([]);\n  const [errors, setErrors] = useState({});\n  const [perfiles, setPerfiles] = useState([]);\n  const [perfil, setPerfil] = useState(null);\n\n  // Obtener la lista de perfiles desde la API\n  async function fetchPerfiles() {\n    try {\n      const response = await api.get('/profile');\n      if (response.status === 200 || response.status === 204) {\n        setPerfiles(response.data.perfiles);\n      }\n    } catch (error) {\n      console.error('Error al obtener la lista de perfiles:', error);\n    }\n  }\n  useEffect(() => {\n    fetchPerfiles();\n  }, []);\n  const validarFormulario = () => {\n    const errores = {};\n    if (!nombrePerfil) {\n      errores.nombrePerfil = 'El nombre del perfil es obligatorio';\n    }\n    return errores;\n  };\n  const crearNuevoPerfil = () => {\n    // Validar el formulario\n    const errores = validarFormulario();\n    if (Object.keys(errores).length === 0) {\n      // Los datos son válidos, crear el perfil\n      const nuevoPerfil = {\n        name: nombrePerfil\n      };\n\n      // Enviar los datos del nuevo perfil al servidor\n      api.post('/profile/create', nuevoPerfil).then(response => {\n        if (response.status === 200 || response.status === 204 || response.status === 201) {\n          // Actualizar la lista de perfiles con la respuesta del servidor\n\n          setPerfil(null);\n          // Limpiar los campos del formulario\n          setNombrePerfil('');\n          setPermisos([]);\n\n          // Cerrar el modal\n          cerrarModal();\n          fetchPerfiles();\n          // Mostrar un SweetAlert\n          Swal.fire({\n            title: 'Perfil Creado',\n            text: 'El perfil ha sido creado exitosamente',\n            icon: 'success',\n            iconHtml: '<img src=\"https://www.easy-gst.in/wp-content/uploads/2017/07/success-icon-10.png\" alt=\"Icono personalizado\" width=\"98\">'\n          });\n        } else {\n          console.error('Error al crear el perfil:', response.data.message);\n          Swal.fire({\n            title: 'Error al crear perfil',\n            text: 'Hubo un error al crear el perfil',\n            icon: 'error',\n            iconHtml: '<img src=\"https://cdn.icon-icons.com/icons2/317/PNG/512/sign-error-icon_34362.png\" width=\"125\">'\n          });\n        }\n      }).catch(error => {\n        Swal.fire({\n          title: 'Error al crear perfil',\n          text: error.response.data.message,\n          icon: 'error',\n          iconHtml: '<img src=\"https://cdn.icon-icons.com/icons2/317/PNG/512/sign-error-icon_34362.png\" width=\"125\">'\n        });\n        console.error('Error al crear el perfil:', error);\n      });\n    } else {\n      // Mostrar mensajes de error\n      setErrors(errores);\n    }\n  };\n  const abrirModal = () => {\n    setShowModal(true);\n  };\n  const cerrarModal = () => {\n    setShowModal(false);\n  };\n  const abrirPanel = async id => {\n    try {\n      const response = await api.get('/profile/' + id);\n      if (response.status === 200) {\n        setPerfil(response.data.perfil);\n        console.log(response.data.perfil);\n      }\n    } catch (error) {\n      console.error('Error al obtener la lista de perfiles:', error);\n    }\n  };\n  const handleCheckboxChange = (permisoCategoria, valor) => {\n    setPerfil(prevUsuario => {\n      const [categoria, permiso] = permisoCategoria.split('.');\n      return {\n        ...prevUsuario,\n        permisos: {\n          ...prevUsuario.permisos,\n          [categoria]: {\n            ...prevUsuario.permisos[categoria],\n            [permiso]: valor\n          }\n        }\n      };\n    });\n  };\n  const handleGuardarPermisos = () => {\n    api.put(\"/profile/update/\" + perfil._id, {\n      name: perfil.name,\n      permisos: perfil.permisos\n    }).then(response => {\n      if (response.status === 200) {\n        Swal.fire({\n          title: 'Permisos Actualizados',\n          icon: 'success',\n          iconHtml: '<img src=\"https://www.easy-gst.in/wp-content/uploads/2017/07/success-icon-10.png\" alt=\"Icono personalizado\" width=\"98\">',\n          timer: 1500,\n          showConfirmButton: false\n        });\n        fetchPerfiles();\n        setPerfil(null);\n      }\n    });\n  };\n  const handleEliminarPerfil = async () => {\n    if (perfil) {\n      const confirmacion = await Swal.fire({\n        title: '¿Estás seguro?',\n        text: 'Esta acción eliminará el perfil permanentemente.',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Sí, eliminar',\n        cancelButtonText: 'Cancelar'\n      });\n      if (confirmacion.isConfirmed) {\n        try {\n          const response = await api.delete('/profile/delete/' + perfil._id);\n          if (response.status === 200 || response.status === 204) {\n            Swal.fire({\n              title: 'Perfil Eliminado',\n              text: 'El perfil ha sido eliminado exitosamente',\n              icon: 'success',\n              iconHtml: '<img src=\"https://www.easy-gst.in/wp-content/uploads/2017/07/success-icon-10.png\" alt=\"Icono personalizado\" width=\"98\">'\n            });\n\n            // Limpiar el estado del perfil seleccionado\n            setPerfil(null);\n\n            // Actualizar la lista de perfiles\n            fetchPerfiles();\n          }\n        } catch (error) {\n          console.error('Error al eliminar el perfil:', error);\n          Swal.fire({\n            title: 'Error al eliminar perfil',\n            text: 'Hubo un error al eliminar el perfil',\n            icon: 'error',\n            iconHtml: '<img src=\"https://cdn.icon-icons.com/icons2/317/PNG/512/sign-error-icon_34362.png\" width=\"125\">'\n          });\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-11\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Perfil de Usuarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-1 text-right\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/admin\",\n            className: \"btn btn-primary\",\n            children: \"Regresar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: perfil ? \" col-md-6\" : \" col-md-12\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-hover\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Perfiles\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"main-button\",\n                    onClick: abrirModal,\n                    children: \"Crear Nuevo Perfil\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 33\n              }, this), perfiles.map(profile => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  onClick: () => abrirPanel(profile._id),\n                  className: perfil && perfil._id === profile._id ? 'table-active' : '',\n                  children: profile.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 41\n                }, this)\n              }, profile._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 37\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this), perfil && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"card-title\",\n                children: perfil.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary\",\n                onClick: () => setPerfil(null),\n                children: \"Cerrar Panel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"mb-3\",\n                  children: \"Editar Permisos\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-body\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      children: \"Locales\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-check form-check-inline\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: perfil.permisos.locales.ver,\n                        onChange: e => handleCheckboxChange('locales.ver', e.target.checked)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 255,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-check-label\",\n                        children: \"Ver\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 261,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-check form-check-inline\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: perfil.permisos.locales.editar,\n                        onChange: e => handleCheckboxChange('locales.editar', e.target.checked)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-check-label\",\n                        children: \"Editar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 270,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-check form-check-inline\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: perfil.permisos.locales.eliminar,\n                        onChange: e => handleCheckboxChange('locales.eliminar', e.target.checked)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 273,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-check-label\",\n                        children: \"Eliminar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-body\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      children: \"Citas\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-check form-check-inline\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: perfil.permisos.citas.ver,\n                        onChange: e => handleCheckboxChange('citas.ver', e.target.checked)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-check-label\",\n                        children: \"Ver\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-check form-check-inline\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: perfil.permisos.citas.editar,\n                        onChange: e => handleCheckboxChange('citas.editar', e.target.checked)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-check-label\",\n                        children: \"Editar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 300,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-check form-check-inline\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: perfil.permisos.citas.eliminar,\n                        onChange: e => handleCheckboxChange('citas.eliminar', e.target.checked)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-check-label\",\n                        children: \"Eliminar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 309,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-body\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      children: \"Servicios\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-check form-check-inline\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: perfil.permisos.servicios.ver,\n                        onChange: e => handleCheckboxChange('servicios.ver', e.target.checked)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 315,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-check-label\",\n                        children: \"Ver\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 321,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 314,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-check form-check-inline\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: perfil.permisos.servicios.editar,\n                        onChange: e => handleCheckboxChange('servicios.editar', e.target.checked)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-check-label\",\n                        children: \"Editar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 330,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-check form-check-inline\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: perfil.permisos.servicios.eliminar,\n                        onChange: e => handleCheckboxChange('servicios.eliminar', e.target.checked)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 333,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-check-label\",\n                        children: \"Eliminar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 339,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-end\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-success mr-2\",\n                    onClick: handleGuardarPermisos,\n                    children: \"Guardar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-footer text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                onClick: handleEliminarPerfil,\n                children: \"Eliminar Perfil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: showModal,\n        onHide: cerrarModal,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Crear Nuevo Perfil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"nombrePerfil\",\n                children: \"Nombre del Perfil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: `form-control ${errors.nombrePerfil ? 'is-invalid' : ''}`,\n                id: \"nombrePerfil\",\n                placeholder: \"Nombre del Perfil\",\n                value: nombrePerfil,\n                onChange: e => setNombrePerfil(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 33\n              }, this), errors.nombrePerfil && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback\",\n                children: errors.nombrePerfil\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 57\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-light\",\n            onClick: cerrarModal,\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: crearNuevoPerfil,\n            children: \"Crear Perfil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(Perfil, \"OhSA0hKdGdfHe4wPfsZsoWviavY=\");\n_c = Perfil;\nvar _c;\n$RefreshReg$(_c, \"Perfil\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Sidebar","Swal","Modal","validator","api","AuthContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Perfil","_s","showModal","setShowModal","nombrePerfil","setNombrePerfil","permisos","setPermisos","errors","setErrors","perfiles","setPerfiles","perfil","setPerfil","fetchPerfiles","response","get","status","data","error","console","validarFormulario","errores","crearNuevoPerfil","Object","keys","length","nuevoPerfil","name","post","then","cerrarModal","fire","title","text","icon","iconHtml","message","catch","abrirModal","abrirPanel","id","log","handleCheckboxChange","permisoCategoria","valor","prevUsuario","categoria","permiso","split","handleGuardarPermisos","put","_id","timer","showConfirmButton","handleEliminarPerfil","confirmacion","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","isConfirmed","delete","children","fileName","_jsxFileName","lineNumber","columnNumber","className","href","onClick","map","profile","type","checked","locales","ver","onChange","e","target","editar","eliminar","citas","servicios","show","onHide","Header","closeButton","Title","Body","htmlFor","placeholder","value","Footer","_c","$RefreshReg$"],"sources":["C:/Users/Boris/Desktop/Final WorkOut/tesislu/frontend/src/Pages/BackOfiice/Admin/Perfiles.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport Sidebar from '../../Components/Sidebar';\r\nimport Swal from 'sweetalert2';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport validator from 'validator';\r\nimport api from '../../../api/api';\r\nimport '../HomeBackOffice.css';\r\nimport { AuthContext } from '../../../Context/AuthContext';\r\n\r\nexport default function Perfil() {\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [nombrePerfil, setNombrePerfil] = useState('');\r\n    const [permisos, setPermisos] = useState([]);\r\n    const [errors, setErrors] = useState({});\r\n    const [perfiles, setPerfiles] = useState([]);\r\n    const [perfil, setPerfil] = useState(null);\r\n\r\n    // Obtener la lista de perfiles desde la API\r\n    async function fetchPerfiles() {\r\n        try {\r\n            const response = await api.get('/profile');\r\n            if (response.status === 200 || response.status === 204) {\r\n                setPerfiles(response.data.perfiles);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error al obtener la lista de perfiles:', error);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchPerfiles();\r\n    }, []);\r\n\r\n    const validarFormulario = () => {\r\n        const errores = {};\r\n\r\n        if (!nombrePerfil) {\r\n            errores.nombrePerfil = 'El nombre del perfil es obligatorio';\r\n        }\r\n\r\n        return errores;\r\n    };\r\n\r\n    const crearNuevoPerfil = () => {\r\n        // Validar el formulario\r\n        const errores = validarFormulario();\r\n\r\n        if (Object.keys(errores).length === 0) {\r\n            // Los datos son válidos, crear el perfil\r\n            const nuevoPerfil = {\r\n                name: nombrePerfil\r\n            };\r\n\r\n            // Enviar los datos del nuevo perfil al servidor\r\n            api\r\n                .post('/profile/create', nuevoPerfil)\r\n                .then((response) => {\r\n                    if (response.status === 200 || response.status === 204 || response.status === 201) {\r\n                        // Actualizar la lista de perfiles con la respuesta del servidor\r\n\r\n                        setPerfil(null)\r\n                        // Limpiar los campos del formulario\r\n                        setNombrePerfil('');\r\n                        setPermisos([]);\r\n\r\n                        // Cerrar el modal\r\n                        cerrarModal();\r\n\r\n                        fetchPerfiles();\r\n                        // Mostrar un SweetAlert\r\n                        Swal.fire({\r\n                            title: 'Perfil Creado',\r\n                            text: 'El perfil ha sido creado exitosamente',\r\n                            icon: 'success',\r\n                            iconHtml: '<img src=\"https://www.easy-gst.in/wp-content/uploads/2017/07/success-icon-10.png\" alt=\"Icono personalizado\" width=\"98\">',\r\n                        });\r\n                    } else {\r\n                        console.error('Error al crear el perfil:', response.data.message);\r\n\r\n                        Swal.fire({\r\n                            title: 'Error al crear perfil',\r\n                            text: 'Hubo un error al crear el perfil',\r\n                            icon: 'error',\r\n                            iconHtml: '<img src=\"https://cdn.icon-icons.com/icons2/317/PNG/512/sign-error-icon_34362.png\" width=\"125\">',\r\n\r\n                        });\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    Swal.fire({\r\n                        title: 'Error al crear perfil',\r\n                        text: error.response.data.message,\r\n                        icon: 'error',\r\n                        iconHtml: '<img src=\"https://cdn.icon-icons.com/icons2/317/PNG/512/sign-error-icon_34362.png\" width=\"125\">',\r\n\r\n                    });\r\n                    console.error('Error al crear el perfil:', error);\r\n                });\r\n        } else {\r\n            // Mostrar mensajes de error\r\n            setErrors(errores);\r\n        }\r\n    };\r\n\r\n    const abrirModal = () => {\r\n        setShowModal(true);\r\n    };\r\n\r\n    const cerrarModal = () => {\r\n        setShowModal(false);\r\n    };\r\n\r\n    const abrirPanel = async (id) => {\r\n        try {\r\n            const response = await api.get('/profile/' + id);\r\n            if (response.status === 200) {\r\n                setPerfil(response.data.perfil);\r\n                console.log(response.data.perfil);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error al obtener la lista de perfiles:', error);\r\n        }\r\n    }\r\n\r\n\r\n    const handleCheckboxChange = (permisoCategoria, valor) => {\r\n        setPerfil((prevUsuario) => {\r\n            const [categoria, permiso] = permisoCategoria.split('.');\r\n            return {\r\n                ...prevUsuario,\r\n                permisos: {\r\n                    ...prevUsuario.permisos,\r\n                    [categoria]: {\r\n                        ...prevUsuario.permisos[categoria],\r\n                        [permiso]: valor,\r\n                    },\r\n                },\r\n            };\r\n        });\r\n    };\r\n    const handleGuardarPermisos = () => {\r\n        api.put(\"/profile/update/\" + perfil._id, { name: perfil.name, permisos: perfil.permisos }).then((response) => {\r\n            if (response.status === 200) {\r\n                Swal.fire({\r\n                    title: 'Permisos Actualizados',\r\n                    icon: 'success',\r\n                    iconHtml: '<img src=\"https://www.easy-gst.in/wp-content/uploads/2017/07/success-icon-10.png\" alt=\"Icono personalizado\" width=\"98\">',\r\n                    timer: 1500,\r\n                    showConfirmButton: false,\r\n                });\r\n                fetchPerfiles();\r\n                setPerfil(null);\r\n            }\r\n        })\r\n    };\r\n\r\n    const handleEliminarPerfil = async () => {\r\n        if (perfil) {\r\n            const confirmacion = await Swal.fire({\r\n                title: '¿Estás seguro?',\r\n                text: 'Esta acción eliminará el perfil permanentemente.',\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Sí, eliminar',\r\n                cancelButtonText: 'Cancelar',\r\n            });\r\n\r\n            if (confirmacion.isConfirmed) {\r\n                try {\r\n                    const response = await api.delete('/profile/delete/' + perfil._id);\r\n                    if (response.status === 200 || response.status === 204) {\r\n                        Swal.fire({\r\n                            title: 'Perfil Eliminado',\r\n                            text: 'El perfil ha sido eliminado exitosamente',\r\n                            icon: 'success',\r\n                            iconHtml: '<img src=\"https://www.easy-gst.in/wp-content/uploads/2017/07/success-icon-10.png\" alt=\"Icono personalizado\" width=\"98\">',\r\n                        });\r\n\r\n                        // Limpiar el estado del perfil seleccionado\r\n                        setPerfil(null);\r\n\r\n                        // Actualizar la lista de perfiles\r\n                        fetchPerfiles();\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Error al eliminar el perfil:', error);\r\n                    Swal.fire({\r\n                        title: 'Error al eliminar perfil',\r\n                        text: 'Hubo un error al eliminar el perfil',\r\n                        icon: 'error',\r\n                        iconHtml: '<img src=\"https://cdn.icon-icons.com/icons2/317/PNG/512/sign-error-icon_34362.png\" width=\"125\">',\r\n\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Sidebar />\r\n            <div className=\"container\">\r\n                <div className=\"row mt-3\">\r\n                <div className=\"col-11\">\r\n                        <h1>Perfil de Usuarios</h1>\r\n                    </div>\r\n                    <div className=\"col-1 text-right\">\r\n                        <a href=\"/admin\" className=\"btn btn-primary\">Regresar</a>\r\n                    </div>\r\n                    <div className={perfil ? \" col-md-6\" : \" col-md-12\"}>\r\n                        <table className=\"table table-hover\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Perfiles</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td><button className=\"main-button\" onClick={abrirModal}>\r\n                                        Crear Nuevo Perfil\r\n                                    </button></td>\r\n                                </tr>\r\n                                {perfiles.map((profile) => (\r\n                                    <tr key={profile._id}>\r\n                                        <td onClick={() => abrirPanel(profile._id)}\r\n                                            className={perfil && perfil._id === profile._id ? 'table-active' : ''}\r\n                                        >\r\n                                            {profile.name}</td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    {perfil && (\r\n                        <div className='col-md-6'>\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n                                    <h2 className=\"card-title\">{perfil.name}</h2>\r\n                                    <button\r\n                                        className=\"btn btn-secondary\"\r\n                                        onClick={() => setPerfil(null)}\r\n                                    >\r\n                                        Cerrar Panel\r\n                                    </button>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <div className=\"card-body\">\r\n                                        <h5 className=\"mb-3\">Editar Permisos</h5>\r\n                                        <div className=\"card mb-3\">\r\n                                            <div className=\"card-body\">\r\n                                                <h6>Locales</h6>\r\n                                                <div className=\"form-check form-check-inline\">\r\n                                                    <input\r\n                                                        className=\"form-check-input\"\r\n                                                        type=\"checkbox\"\r\n                                                        checked={perfil.permisos.locales.ver}\r\n                                                        onChange={(e) => handleCheckboxChange('locales.ver', e.target.checked)}\r\n                                                    />\r\n                                                    <label className=\"form-check-label\">Ver</label>\r\n                                                </div>\r\n                                                <div className=\"form-check form-check-inline\">\r\n                                                    <input\r\n                                                        className=\"form-check-input\"\r\n                                                        type=\"checkbox\"\r\n                                                        checked={perfil.permisos.locales.editar}\r\n                                                        onChange={(e) => handleCheckboxChange('locales.editar', e.target.checked)}\r\n                                                    />\r\n                                                    <label className=\"form-check-label\">Editar</label>\r\n                                                </div>\r\n                                                <div className=\"form-check form-check-inline\">\r\n                                                    <input\r\n                                                        className=\"form-check-input\"\r\n                                                        type=\"checkbox\"\r\n                                                        checked={perfil.permisos.locales.eliminar}\r\n                                                        onChange={(e) => handleCheckboxChange('locales.eliminar', e.target.checked)}\r\n                                                    />\r\n                                                    <label className=\"form-check-label\">Eliminar</label>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"card-body\">\r\n                                                <h6>Citas</h6>\r\n                                                <div className=\"form-check form-check-inline\">\r\n                                                    <input\r\n                                                        className=\"form-check-input\"\r\n                                                        type=\"checkbox\"\r\n                                                        checked={perfil.permisos.citas.ver}\r\n                                                        onChange={(e) => handleCheckboxChange('citas.ver', e.target.checked)}\r\n                                                    />\r\n                                                    <label className=\"form-check-label\">Ver</label>\r\n                                                </div>\r\n                                                <div className=\"form-check form-check-inline\">\r\n                                                    <input\r\n                                                        className=\"form-check-input\"\r\n                                                        type=\"checkbox\"\r\n                                                        checked={perfil.permisos.citas.editar}\r\n                                                        onChange={(e) => handleCheckboxChange('citas.editar', e.target.checked)}\r\n                                                    />\r\n                                                    <label className=\"form-check-label\">Editar</label>\r\n                                                </div>\r\n                                                <div className=\"form-check form-check-inline\">\r\n                                                    <input\r\n                                                        className=\"form-check-input\"\r\n                                                        type=\"checkbox\"\r\n                                                        checked={perfil.permisos.citas.eliminar}\r\n                                                        onChange={(e) => handleCheckboxChange('citas.eliminar', e.target.checked)}\r\n                                                    />\r\n                                                    <label className=\"form-check-label\">Eliminar</label>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"card-body\">\r\n                                                <h6>Servicios</h6>\r\n                                                <div className=\"form-check form-check-inline\">\r\n                                                    <input\r\n                                                        className=\"form-check-input\"\r\n                                                        type=\"checkbox\"\r\n                                                        checked={perfil.permisos.servicios.ver}\r\n                                                        onChange={(e) => handleCheckboxChange('servicios.ver', e.target.checked)}\r\n                                                    />\r\n                                                    <label className=\"form-check-label\">Ver</label>\r\n                                                </div>\r\n                                                <div className=\"form-check form-check-inline\">\r\n                                                    <input\r\n                                                        className=\"form-check-input\"\r\n                                                        type=\"checkbox\"\r\n                                                        checked={perfil.permisos.servicios.editar}\r\n                                                        onChange={(e) => handleCheckboxChange('servicios.editar', e.target.checked)}\r\n                                                    />\r\n                                                    <label className=\"form-check-label\">Editar</label>\r\n                                                </div>\r\n                                                <div className=\"form-check form-check-inline\">\r\n                                                    <input\r\n                                                        className=\"form-check-input\"\r\n                                                        type=\"checkbox\"\r\n                                                        checked={perfil.permisos.servicios.eliminar}\r\n                                                        onChange={(e) => handleCheckboxChange('servicios.eliminar', e.target.checked)}\r\n                                                    />\r\n                                                    <label className=\"form-check-label\">Eliminar</label>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"d-flex justify-content-end\">\r\n                                            <button\r\n                                                className=\"btn btn-success mr-2\"\r\n                                                onClick={handleGuardarPermisos}\r\n                                            >\r\n                                                Guardar\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"card-footer text-center\">\r\n                                    <button\r\n                                        className=\"btn btn-danger\"\r\n                                        onClick={handleEliminarPerfil}\r\n                                    >\r\n                                        Eliminar Perfil\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <Modal show={showModal} onHide={cerrarModal}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Crear Nuevo Perfil</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"nombrePerfil\">Nombre del Perfil</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className={`form-control ${errors.nombrePerfil ? 'is-invalid' : ''}`}\r\n                                    id=\"nombrePerfil\"\r\n                                    placeholder=\"Nombre del Perfil\"\r\n                                    value={nombrePerfil}\r\n                                    onChange={(e) => setNombrePerfil(e.target.value)}\r\n                                />\r\n                                {errors.nombrePerfil && <div className=\"invalid-feedback\">{errors.nombrePerfil}</div>}\r\n                            </div>\r\n                        </form>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <button className=\"btn btn-light\" onClick={cerrarModal}>\r\n                            Cancelar\r\n                        </button>\r\n                        <button className=\"btn btn-primary\" onClick={crearNuevoPerfil}>\r\n                            Crear Perfil\r\n                        </button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}